{% extends 'base.html' %}

{% load static%}

{% block content %}

<div class="container-fluid">
  <div class="row">
    <nav class="col-md-2 d-none d-md-block bg-light sidebar">
      <div class="sidebar-sticky">
        <ul class="nav flex-column">
           
          <li class="nav-item">
            <a class="nav-link" href="#">
              <span data-feather="shopping-cart"></span>
              CRM
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" href="{% url 'clients' %}">
              <span data-feather="users"></span>
              База <span class="sr-only">(current)</span></span>
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <span data-feather="file-text"></span>
              Контент-план
            </a>
          </li>

        </ul>

        <h6 class="sidebar-heading d-flex justify-content-between align-items-center px-3 mt-4 mb-1 text-muted">
          <span>Мой профиль</span>
          <a class="d-flex align-items-center text-muted" href="#">
            <span data-feather="plus-circle"></span>
          </a>
        </h6>
        <ul class="nav flex-column mb-2">
          <li class="nav-item">
            <a class="nav-link" href="#">
              <span data-feather="file-text"></span>
              Мои задачи
            </a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#">
              <span data-feather="file-text"></span>
              Мои отчеты
            </a>
          </li>          
        </ul>
      </div>
    </nav>

    <main role="main" class="col-md-9 ml-sm-auto col-lg-10 pt-3 px-4" id='mainContainer'>

      <h2>База</h2>
      <span id='states' data-url="{% url 'clients:router:states-list' %}"></span>
      <span id='clientUrl' data-url="{% url 'client' 1 %}" 
                           data-page='{{page}}'
                           data-extra="{% url 'clients:extra' %}?page={{page}}">
                          </span>
      <div class="table-responsive">
        <table class="table table-striped table-sm" id='tableClients'>
          <thead>
            <tr>
              <th>Статус</th>
              <th>ФИО</th>
              <th>Дата рождения</th>
              <th>Город</th>
              <th>Телефон</th>
              <th>Комментарий</th>
              <th>Примечание</th>
              <th>В каких состоит чатах</th>
              <th>Какой способ связи предпочитает: </th>
              <th>Комментарии по общению с клиентом:</th>
              <th>Интересы клиента:</th>
              
            </tr>
          </thead>
          <tbody class="table-hover" id="clientsTable">            
          </tbody>
        </table>
      </div>
      
      <nav aria-label="Page navigation" >
        <ul class="pagination justify-content-center" id="nav_buttons">
          
        </ul>
      </nav>

    </main>
  </div>
</div>

<script src={% static 'js/clients/clients_table.js' %}></script>
  
{% endblock %}

